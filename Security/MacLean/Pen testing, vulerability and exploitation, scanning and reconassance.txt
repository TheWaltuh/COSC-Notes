

------------------------------------------------------------------------------------------[PENETRATION TESTING]----------------------------------------------------------------------------------------


[Phase 1: Mission Definition]
* Define mission goals and targets
* Determine scope of mission
* Define RoE


[Phase 2: Recon]
* Information gathering about the target through public sources


[Phase 3: Footprinting]
* Accumulate data through scanning and/or interaction with the target/target resources


[Phase 4: Exploitation & Initial Access]
* Gain an initial foothold on network


[Phase 5: Post-Exploitation]
* Establish persistence
* Escalate privileges
* Cover your tracks
* Exfiltrate target data


[Phase 6: Document Mission]
* Document and report mission details


-------------------------------------------------------------------------------------[Scanning and Reconnaissance]-------------------------------------------------------------------------------------


[Open Source Intelligence]
* Can provide quick and basic information
* not very accurate


[Collection and Use]
* Check with mission to see what to collect
* Used knowledge to better defend or attack


[Data to Collect]
* Web Data
  - Cached Content, Analytics, Proxy Web Application, Command Line Interrogation
* Sensitive Data
  - Business Data, Profiles, Non-Profits/Charities, Business Filings, Historical and Public Listings
* Publicly Accessible
  - Physical Addresses, Phone Numbers, Email Addresses, User Names, Search Engine Data, Web and Traffic Cameras, Wireless Access Point Data
* Social Media
  - Twitter, Facebook, Instagram, People Searches, Registry and Wish Lists
* Domain and IP Data
  - DNS Registration, IP Address Assignments, Geolocation Data, Whois


[Hyper-Text Markup Language (HTML)]
* Standardized markup language for browser interpretation of webpages
  - Client-side interpretation (web browser)
  - Utilizes elements (identified by tags)
  - Typically redirects to another page for server-side interaction
  - Cascading Stylesheets (CSS) for page themeing


[Scraping Data]

Prep:

pip install lxml requests

Script:

#!/usr/bin/python
import lxml.html
import requests

page = requests.get('http://quotes.toscrape.com')
tree = lxml.html.fromstring(page.content)

authors = tree.xpath('//small[@class="author"]/text()')

print ('Authors: ',authors)


What will it output?:

Authors:  ['Albert Einstein', 'J.K. Rowling', 'Albert Einstein', 'Jane Austen', 'Marilyn Monroe', 'Albert Einstein', uâ€™Andr\xe9 Gide', 'Thomas A. Edison', 'Eleanor Roosevelt', 'Steve Martin']



[Advanced Scanning Techniques]
1) HOST DISCOVERY
   - Find hosts that are online
2) PORT ENUMERATION
   - Find ports for each host that is online
3) PORT INTERROGATION
   - Find what service is running on each open/available port


-----[NMAP Scripting Engine]-----
During the lesson we will review the following topics:

* Benefits of Scanning with Scripts
* Script Management and Utilization
* Usage and Examples


[Main Benefits]
* Network Discovery
* Sophisticated Version Detection
* Vulnerability Detection
* Backdoor Detection
* Vulnerability Exploitation


[Script Management]
Scripts are stored in a subdirectory of the Nmap data directory by default:

/usr/share/nmap/scripts


[Usage and Examples]
nmap --script <filename>|<category>|<directory>
nmap --script-help "ftp-* and discovery"
nmap --script-args <args>
nmap --script-args-file <filename>
nmap --script-help <filename>|<category>|<directory>
nmap --script-trace






nmap -v -sT -Pn -T4 10.50.33.251 -p-
nmap -v -sT -Pn -T4 --script http-robots.txt.nse 10.50.33.251 -p 80
nmap -v -sT -Pn -T4 --script http-enum.nse 10.50.33.251 -p 80
nmap -v -sT -Pn -T4 --script discovery 10.50.33.251
nmap -p 445 --script smb-os-discovery <IP Address / Subnet>


for i in {1..254} ;do(ping -c 1 10.50.33.$i | grep "bytes from" &) ;done           - ping sweep

nikto -h 10.50.33.251
nikto -h 10.50.33.251 -p 443


-------------------------------------------------------------------------------[Vulnerability and Exploitation Research]-------------------------------------------------------------------------------


[Initial Access]
* What is now the most common method for gaining initial access?
  - Phishing
* Other ways to get initial access
  - Social Engineering


[Research]
* Open sources
* Organizational capabilities


[Testing]
* Exploit Development occurs from vulnerability pairing and mission-drivens requirement
  - Test and verify success
* Testing provides a number of benefits:
  - Faster time to breakout of initial foothold
  - Reduced risk of detection and/or tool failure
  - Improved recovery times


[Plan]
* Procure Hardware and software
* Assign developer
* Assign a tester to develop TTPs and break it
* Document testing results
* Testing environment



----------------------------------------------------------------------------------------------[Challenges]---------------------------------------------------------------------------------------------


SITREP:Your team has been deployed for Operation Golden Nugget, in direct support of Gorgas forces amid the Donovian-Gorgas war. You have been tasked to collect, analyze, and process data utilizing various reconnaissance techniques throughout Donovian and Gorgas Cyberspace.

Maintain 'low visibility' on the wire, as security products may be in place, and document your actions and results as you will be expected to provide OpNotes upon request.

Intelligence believes that not all of the 192.168.28.96/27 network has the ability to communicate with the 192.168.150.224/27 network.

Donovian Reconnaissance and Scanning (DR&S)
XX June 2024
Start Time: 1300
Duration: 4 hours

Type of Operation: Cyber Intelligence, Surveillance and Reconnaissance (C-ISR)

Objective:Scan target networks to gather pertinent host information.

Tools/Techniques: All connections will be established through network scans or web browser. Ports in use will be dependent on target location and are subject to change. Network scanning tools/techniques are limited to NSE scripts, python lxml and OSINT.

Scenario Credentials: FLAG = R3C0N5t@rt0F@ct1v1ty

Prior Approvals: OSINT through publicly available resources. Scrape appropriate web content that will provide operational data. Testing of found credentials. NOT approved to change routing, passwords, services, destroy data, upload of tools, create accounts

Scheme of Maneuver:
>Jump Box
->Network scan: 192.168.28.96/27
-->Network scan:192.168.150.224/27

Target Section:

Network scans:
Network: 192.168.28.96/27
Network:192.168.150.224/27
OSs: unknown
Creds: student ::
Known Ports: unknown
Known URL: consulting.site.donovia
Known URL: conference.site.donovia
Action: Reconnaissance to collect intelligence and identify possible avenues of approach in the network.
























































































