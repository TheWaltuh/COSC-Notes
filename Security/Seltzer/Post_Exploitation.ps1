####################################################################################################################################################################################################

                                                                                      #Post Exploitation#

#####################################################################################################################################################################################################
#Golden Nuggets
    #Web Server info/shit
        /var/www/html
    #File for Dns translatiob
        /etc/hosts
    #Find command to find case insensitive for any file with password in it that is a txt file
        find -iname *password*.txt
    #For what resides in dir
        ls
    #can cat out scripts to see what its doing
    #may need to figure out how to elevate permissions
    #look at what the user can sudo
        sudo -l
    #what you dont wanna see as an attacker running as a process
        Logs (syslog, rsyslogd, rsyslog)
    
#Things like checking persistance
    #Run Keys
    #Powershell Profiles
    #Bash.rc
    #/etc/crontab
#System Enumeration
    #Get on, and then establish persistance
    #see what is going on and stuff like that
#Data Exfiltration
    #Important Files (pull shit we know we want)
    #Obfuscation
        #do it so they don't know what you're pulling
        #want encrypted file transfer
            scp
         #can encode (base64, etc)
         cat /etc/passwd | tr 'a-zA-Z0-9' 'b-zA-Z0-9a' > shifted.txt
            #encodes it
         cat shifted.txt | tr 'b-zA-Z0-9a' 'a-zA-Z0-9'
            #decodes it
#Host Enumeration
    #Enumerating Users
        #Windows Commands
          net user <username>
              #can go without username to get all
          net localgroup
              #same deal can add name
          wmic useraccount get name,sid
              #This command displays the Security IDs (SIDs) of all user accounts on the system. If you know the username, use this command: wmic useraccount where name="USER" get sid
          Tasklist /svc
              #Displays "verbose" list of all running applications and services with their Process ID (PID).
          wmic /node:localhost /namespace:\\root\securitycenter2 path antivirusproduct get displayname /format:list
              #This will return a list of all installed AV products from the local machine:
          wmic process where (processid=#) get parentprocessid,commandline
              #Display processes parent PID and command line
          netstat /anob
              #Displays local listenting ports, process-id and binary.
          net use
              #NET USE connects a computer to a shared resource or disconnects a computer from a shared resource. When used without options, it lists the computer's connections.
          net view
              #Displays a list of resources being shared on the system. When used without options, it displays a list of computers in the current domain or network
          arp -a
              #Displays the arp cache on the system
          route print
              #Displays the systems routing table
          
        #Linux Commands
          cat /etc/passwd *OR* getent passwd
              #List of all users/accounts on the local system by name, user-id, comment, home directory, and shell
          cat /etc/shadow
              #List of all users/accounts on the system along with their hashed passwd, password age, and  expiration information
          last
              #History of previous account login/logout by username, terminal (local, remote), system/IP, date/time of login/logout, and duration
          who
              #Who is currently logged into the system by name, terminal (local/remote), date/time they logged in, and IP address if remote
          w
              #Who is currently logged into the system by username, terminal, and what they are doing
          whoami
              #Displays the user name of the user running the command
          groups
              #Displays the list of groups to which the user running the command is a member
          id
              #Displays the username, userid, group name(s), and groupid(s) of the user running the command
          ps -elf
              #View every process on the system in long format using standard UNIX syntax.
          ps auxf
              #View every process on the system in forest view using BSD syntax
          pstree
              #Display a tree of processes. Forest view with the "ps" command tries to mimick this output to a certain degree
          lsof
              #List open files. Everything in UNIX/Linux is a file (to a certain degree). The lsof enumerates open files and can provide information on pretty much all the activity on a system to include networking.  Some of the common arguments with this command are files associated with a process-ID  "-p PID", and internet "-i"
          systemctl list -units --type service | grep runnung
              #Linux displays running services
          ifconfig -a 
              #Displays all interfaces on the system and their current configuration and status
          ss
              #Displays network connections/sockets
              OR CAN USE netstat
              #Options
                  -a        #displays all listening and non-listening ports
                  -l        #displays only listening ports
                  -n        #displays numeric IP addresses and ports
                  -p        #displays process-id and program name (for root only)
                  -u        #displays UDP sockets
                  -t        #displays TCP sockets
                  

